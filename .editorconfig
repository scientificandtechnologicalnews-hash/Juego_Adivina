/* ---------------------------------------------------------
   VARIABLES PRINCIPALES DEL JUEGO
--------------------------------------------------------- */

// Referencias a los elementos del DOM
const tablero = document.getElementById("tablero");
const btnStart = document.getElementById("btnStart");
const selectTiempo = document.getElementById("tiempo");
const cortina = document.getElementById("cortina");

// N√∫mero de dados para el juego
const NUM_DADOS = 10;

// Lista de posibles caras del dado
// Cada cara es un objeto con su icono y tipo
const caras = [
  { icon: "üéµ", tipo: "Nota musical" },
  { icon: "üé®", tipo: "Color" },
  { icon: "üî§", tipo: "Letra" },
  { icon: "üî£", tipo: "S√≠mbolo" },
  { icon: "üî¢", tipo: "N√∫mero primo" },
  { icon: "üêæ", tipo: "Animal" }
];

/* ---------------------------------------------------------
   FUNCI√ìN PARA SORTEAR CARA ALEATORIA
--------------------------------------------------------- */

function caraAleatoria() {
  const indice = Math.floor(Math.random() * caras.length);
  return caras[indice];
}

/* ---------------------------------------------------------
   FUNCI√ìN QUE GENERA LOS 10 DADOS EN EL TABLERO
--------------------------------------------------------- */

function generarDados() {

  // 1. Primero limpiamos el tablero por si ya hab√≠a dados
  tablero.innerHTML = "";

  // 2. Generamos los 10 dados
  for (let i = 0; i < NUM_DADOS; i++) {

    // Creamos un div para el dado
    const divDado = document.createElement("div");
    divDado.classList.add("dado");

    // Sacamos una cara aleatoria
    const cara = caraAleatoria();

    // Almacenamos el tipo en un atributo para luego poder comprobar
    divDado.setAttribute("data-tipo", cara.tipo);

    // Mostramos el icono en el dado
    divDado.textContent = cara.icon;

    // Lo a√±adimos al tablero
    tablero.appendChild(divDado);
  }
}

/* ---------------------------------------------------------
   FUNCI√ìN QUE INICIA LA PARTIDA
--------------------------------------------------------- */

function iniciarPartida() {

  // 1. Generamos los dados
  generarDados();

  // 2. Mostramos los dados (quitamos la cortina si estaba puesta)
  cortina.classList.add("oculto");

  // 3. Cogemos el tiempo seleccionado por el usuario
  const tiempo = parseInt(selectTiempo.value) * 1000;

  // 4. Pasado el tiempo, tapamos los dados
  setTimeout(() => {
    cortina.classList.remove("oculto");

    // Aqu√≠ luego podremos pedir al usuario que responda
    console.log("Tiempo terminado. ¬°Recordar!");

  }, tiempo);
}

/* ---------------------------------------------------------
   EVENTO AL PULSAR EL BOT√ìN
--------------------------------------------------------- */

btnStart.addEventListener("click", iniciarPartida);

